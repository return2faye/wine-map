# 使用说明

## 快速开始

### 1. 启动开发服务器

```bash
npm run dev
```

应用将在 `http://localhost:5173` 启动

### 2. 添加新的葡萄酒

有两种方式添加新的葡萄酒：

#### 方式一：使用交互式脚本（推荐）

```bash
npm run add-wine
```

脚本会引导你输入葡萄酒的详细信息，包括图片路径。

#### 方式二：手动编辑文件

编辑 `src/data/wines.ts` 文件，在 `sampleWines` 数组中添加新的葡萄酒对象。

### 3. 添加葡萄酒图片

1. 将你的葡萄酒图片放在 `public/images/wines/` 文件夹中
2. 建议使用有意义的文件名，如：`wine-1-chateau-margaux-2015.jpg`
3. 在数据中引用图片路径：`/images/wines/你的图片文件名.jpg`
4. 支持多张图片，使用 `images` 数组字段

### 4. 获取精确坐标

为了在地图上准确显示葡萄酒位置，你需要获取精确的经纬度坐标：

1. 打开 [Google Maps](https://maps.google.com)
2. 搜索葡萄酒产区或酒庄位置
3. 右键点击地图上的位置
4. 选择第一个坐标数字（纬度，经度）
5. 将坐标复制到脚本中

### 5. 构建和部署

```bash
# 构建生产版本
npm run build

# 预览构建结果
npm run preview
```

## 功能说明

### 地图功能

- **多种地图样式**: 右上角可以选择不同的地图样式
  - 🌍 CartoDB Light: 简洁明亮的现代地图
  - 🎨 CartoDB Dark: 深色主题，护眼舒适
  - 📍 CartoDB Voyager: 经典旅行风格地图
  - 🏔️ Stamen Terrain: 地形图，显示地理特征
- **缩放**: 使用鼠标滚轮或地图控件缩放（限制在合理范围内，无重复瓦片）
- **拖拽**: 点击并拖拽地图移动视角
- **边界限制**: 地图有合理的边界限制，防止过度拖拽
- **标记**: 不同颜色的圆形标记代表不同类型的葡萄酒
  - 🔴 红色：红酒
  - 🟡 米色：白酒
  - 🩷 粉色：桃红酒
  - 🟡 金色：起泡酒

### 葡萄酒详情

点击地图上的标记可以查看葡萄酒的详细信息：

- 基本信息（名称、产区、年份等）
- 技术信息（葡萄品种、酒精度等）
- 品酒笔记
- 个人评价
- 评分和价格
- **图片展示**：支持多张图片，可以左右切换查看

### 响应式设计

应用支持各种设备：
- 桌面电脑
- 平板电脑
- 手机

## 数据格式

每个葡萄酒对象包含以下字段：

```typescript
{
  id: string;                    // 唯一标识
  name: string;                  // 葡萄酒名称
  region: string;                // 产区
  country: string;               // 国家
  coordinates: {                 // 坐标
    lat: number;                 // 纬度
    lng: number;                 // 经度
  };
  vintage?: number;              // 年份（可选）
  grapeVariety?: string;         // 葡萄品种（可选）
  price?: number;                // 价格（可选）
  rating?: number;               // 评分 1-5（可选）
  tastingNotes?: string;         // 品酒笔记（可选）
  personalComment?: string;      // 个人评价（可选）
  dateConsumed?: string;         // 品尝日期 YYYY-MM-DD（可选）
  winery?: string;               // 酒庄（可选）
  alcoholContent?: number;       // 酒精度（可选）
  image?: string;                // 主图片路径（可选）
  images?: string[];             // 多张图片路径数组（可选）
  color?: 'red' | 'white' | 'rose' | 'sparkling'; // 颜色类型
}
```

## 自定义样式

要修改应用的外观，编辑 `src/styles/index.css` 文件：

- 修改颜色主题
- 调整布局
- 自定义动画效果
- 修改响应式断点

## 故障排除

### 常见问题

1. **地图不显示**
   - 检查网络连接
   - 确保可以访问 OpenStreetMap

2. **标记位置不准确**
   - 检查坐标是否正确
   - 使用 Google Maps 获取精确坐标

3. **样式显示异常**
   - 清除浏览器缓存
   - 检查 CSS 文件是否正确加载

4. **添加葡萄酒后不显示**
   - 检查数据格式是否正确
   - 确保坐标在有效范围内（纬度：-90 到 90，经度：-180 到 180）

### 调试技巧

1. 打开浏览器开发者工具（F12）
2. 查看 Console 标签页的错误信息
3. 检查 Network 标签页的资源加载情况
4. 使用 React Developer Tools 调试组件状态

## 性能优化建议

1. **图片优化**
   - 压缩葡萄酒图片
   - 使用 WebP 格式
   - 设置合适的图片尺寸

2. **数据管理**
   - 定期清理不需要的数据
   - 避免重复的葡萄酒记录

3. **浏览器缓存**
   - 配置适当的缓存策略
   - 使用版本号管理静态资源

## 扩展功能

可以考虑添加的功能：

- 搜索和筛选功能
- 葡萄酒分类标签
- 导入/导出数据
- 用户认证系统
- 社交分享功能
- 移动端 PWA 支持
